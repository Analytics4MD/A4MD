language: python
env:
  global:
  - TRAVIS=False
  - secure: Pz5/Q8RkDtQXelNgd8hKSlmA2n/4E9LvcSEUI98OyYuWERWYpfiSsMnxaYRGdLkdl0sJbnT/Z/+G5MdGnGw2SsHiXyyOG+xfXyTJm/+HCmbiTOoJzc1Av3g6lMMbS4A9ffFV6C36NB7akjuWj+G/kxWfY9X1C+Uqb7H6DtSI9FkVyS/ifQzj2jtO20d/SwtyCciPKIZyKFGCppjPTaQA0CozHq/vQFS1cLB62/mEigasj/qAQyExgDji49l3qvZeToWpcCUvMoUsgKvbzab3FLGya4IS6FcWJ4ChiBygjuB6GPfWGgWOF0rAlrZC3blREVgEQYJ4pLp+GqmHzCeysQ==

integrations:
  hub:
    - integrationName: docker_hub
      type: dockerRegistryLogin

#  notifications:
#    - integrationName: Shippable-Slack
#      type: slack
#      recipients:
#        - "#lichens"
#      branches:
#        only:
#          - master
#      on_success: always
#      on_failure: always
#      on_start: never
#      on_pull_request: always
git:
  submodule: true
build:
  pre_ci_boot:
    image_name: globalcomputinglab/a4md_base
    image_tag: latest
    pull: true
  ci:
    - pwd
    - ls -a
    - mkdir build
    - cd build
    - cmake .. -DCMAKE_INSTALL_PREFIX=../_install 
    - make install
    - echo "Build complete"


#  on_success:
#    - COVERALLS_REPO_TOKEN=$COVERALLS_REPO_TOKEN shippable_retry coveralls
